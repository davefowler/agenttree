# AgentTree Project Rules

## â›” NEVER USE RAW TMUX COMMANDS

Use `agenttree` CLI instead of tmux:
- `agenttree status` NOT `tmux list-sessions`
- `agenttree output <id>` NOT `tmux capture-pane`
- `agenttree send <id> "msg"` NOT `tmux send-keys`
- `agenttree stop <id>` NOT `tmux kill-session`

Raw tmux bypasses workflow and breaks state tracking.

## Documentation Structure

**All documentation goes in `agents/` repository, NOT in the main codebase.**

When creating plans, specs, proposals, or documentation:
- `agents/plans/` - Planning docs, proposals, design discussions
- `agents/specs/` - Feature specifications, architecture docs
- `agents/rfcs/` - Request for comments, major decisions
- `agents/knowledge/` - Gotchas, patterns, onboarding info
- `agents/tasks/` - Task logs and work history

**DO NOT create:**
- `docs/` directories in main repo
- README files for documentation (only for project overview)
- Proposal files outside of agents/

See `agents/AGENTS.md` for full documentation conventions.

## Container Security

AgentTree REQUIRES containers for agent execution. There is no non-container mode.
- All agents run in isolated containers
- No fallbacks, no bypasses
- See `docs/SECURITY.md` for security model

## Task System

Tasks are stored in `tasks/` directory within agent worktrees:
- Files named: `YYYY-MM-DD-task-title.md`
- Oldest task is worked on first (FIFO)
- Completed tasks move to `tasks/archive/`

## Code Style

- Python with type hints
- Pydantic for config/models
- Click for CLI
- FastAPI for web server
- Rich for terminal output

